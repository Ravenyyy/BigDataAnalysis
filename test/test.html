<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Hello, World</title>
  <style type="text/css">
    html {
      height: 100%
    }

    body {
      height: 100%;
      margin: 0px;
      padding: 0px
    }

    #container {
      height: 100%
    }
  </style>
  <script type="text/javascript"
    src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=mGxSq0nDy6k7OfjQ9vlPdvT3kxmKrMm5">
  </script>
</head>

<body>
  <div id="container"></div>
  <script type="text/javascript">
    var map = new BMapGL.Map("container");
    // 创建地图实例 
    var point = new BMapGL.Point(116.404, 39.915);
    // 创建点坐标 
    map.centerAndZoom(point, 15);
    // 初始化地图，设置中心点坐标和地图级别 

    let data = [{
        id: 1,
        name: "故宫",
        x: 116.404,
        y: 39.915
      },
      {
        id: 2,
        name: "北京站",
        x: 116.435,
        y: 39.911
      }
    ]

    for (var i = 0; i < data.length; i++) {
      //创建点
      marker = new BMapGL.Marker(new BMapGL.Point(data[i].x, data[i].y));
      //增加点
      map.addOverlay(marker);
      // pointArray[i] = new BMap.Point(data[i].x, data[i].y);
      var _id = data[i].id;
      marker.customData = {
        id: data[i].id,
        name: data[i].name
      }; //自定义参数id
      marker.addEventListener("click", function (e) {
        var data = e.target.customData
        alert("id=" + data.id + " marker的名字是" + data.name);
      });
    }
  </script>
</body>

</html>